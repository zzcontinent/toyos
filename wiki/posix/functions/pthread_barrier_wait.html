<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>pthread_barrier_wait</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_barrier_destroy.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_barrierattr_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>


<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="pthread_barrier_wait"></a> <a name="tag_16_413"></a><!-- pthread_barrier_wait -->
 

<h4 class="mansect"><a name="tag_16_413_01"></a>NAME</h4>

<blockquote>pthread_barrier_wait - synchronize at a barrier</blockquote>

<h4 class="mansect"><a name="tag_16_413_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/pthread.h.html">pthread.h</a>&gt;<br>
<br>
 int pthread_barrier_wait(pthread_barrier_t *</tt><i>barrier</i><tt>);<br>
</tt></code></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_03"></a>DESCRIPTION</h4>

<blockquote>
<p>The <i>pthread_barrier_wait</i>() function shall synchronize participating threads at the barrier referenced by <i>barrier</i>.
The calling thread shall block until the required number of threads have called <i>pthread_barrier_wait</i>() specifying the
barrier.</p>

<p>When the required number of threads have called <i>pthread_barrier_wait</i>() specifying the barrier, the constant
PTHREAD_BARRIER_SERIAL_THREAD shall be returned to one unspecified thread and zero shall be returned to each of the remaining
threads. At this point, the barrier shall be reset to the state it had as a result of the most recent <a href=
"../functions/pthread_barrier_init.html"><i>pthread_barrier_init</i>()</a> function that referenced it.</p>

<p>The constant PTHREAD_BARRIER_SERIAL_THREAD is defined in <a href="../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a> and
its value shall be distinct from any other value returned by <i>pthread_barrier_wait</i>().</p>

<p>The results are undefined if this function is called with an uninitialized barrier.</p>

<p>If a signal is delivered to a thread blocked on a barrier, upon return from the signal handler the thread shall resume waiting
at the barrier if the barrier wait has not completed (that is, if the required number of threads have not arrived at the barrier
during the execution of the signal handler); otherwise, the thread shall continue as normal from the completed barrier wait. Until
the thread in the signal handler returns from it, it is unspecified whether other threads may proceed past the barrier once they
have all reached it.</p>

<p>A thread that has blocked on a barrier shall not prevent any unblocked thread that is eligible to use the same processing
resources from eventually making forward progress in its execution. Eligibility for processing resources shall be determined by the
scheduling policy.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_04"></a>RETURN VALUE</h4>

<blockquote>
<p>Upon successful completion, the <i>pthread_barrier_wait</i>() function shall return PTHREAD_BARRIER_SERIAL_THREAD for a single
(arbitrary) thread synchronized at the barrier and zero for each of the other threads. Otherwise, an error number shall be returned
to indicate the error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_05"></a>ERRORS</h4>

<blockquote>
<p>This function shall not return an error code of [EINTR].</p>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_413_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>Applications using this function may be subject to priority inversion, as discussed in XBD <a href=
"../basedefs/V1_chap03.html#tag_03_291"><i>Priority Inversion</i></a>.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_08"></a>RATIONALE</h4>

<blockquote>
<p>If an implementation detects that the value specified by the <i>barrier</i> argument to <i>pthread_barrier_wait</i>() does not
refer to an initialized barrier object, it is recommended that the function should fail and report an [EINVAL] error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/pthread_barrier_destroy.html#"><i>pthread_barrier_destroy</i></a></p>

<p>XBD <a href="../basedefs/V1_chap03.html#tag_03_291"><i>Priority Inversion</i></a>, <a href=
"../basedefs/V1_chap04.html#tag_04_12"><i>Memory Synchronization</i></a>, <a href=
"../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 6. Derived from IEEE&nbsp;Std&nbsp;1003.1j-2000.</p>

<p>In the SYNOPSIS, the inclusion of <a href="../basedefs/sys_types.h.html"><i>&lt;sys/types.h&gt;</i></a> is no longer
required.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_413_12"></a>Issue 7</h4>

<blockquote>
<p>The <i>pthread_barrier_wait</i>() function is moved from the Barriers option to the Base.</p>

<p>The [EINVAL] error for an uninitialized barrier object is removed; this condition results in undefined behavior.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_barrier_destroy.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_barrierattr_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

