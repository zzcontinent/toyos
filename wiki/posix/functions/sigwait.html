<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>sigwait</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/sigtimedwait.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/sin.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<script type="text/javascript" language="JavaScript" src="../jscript/codes.js">
</script>

<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="sigwait"></a> <a name="tag_16_557"></a><!-- sigwait -->
 

<h4 class="mansect"><a name="tag_16_557_01"></a>NAME</h4>

<blockquote>sigwait - wait for queued signals</blockquote>

<h4 class="mansect"><a name="tag_16_557_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> #include &lt;<a href="../basedefs/signal.h.html">signal.h</a>&gt;<br>
<br>
 int sigwait(const sigset_t *restrict</tt> <i>set</i><tt>, int *restrict</tt> <i>sig</i><tt>); <img src="../images/opt-end.gif"
alt="[Option End]" border="0"></tt></code></div>

<tt><br>
</tt></blockquote>

<h4 class="mansect"><a name="tag_16_557_03"></a>DESCRIPTION</h4>

<blockquote>
<p>The <i>sigwait</i>() function shall select a pending signal from <i>set</i>, atomically clear it from the system's set of
pending signals, and return that signal number in the location referenced by <i>sig</i>. If prior to the call to <i>sigwait</i>()
there are multiple pending instances of a single signal number, it is implementation-defined whether upon successful return there
are any remaining pending signals for that signal number. If the implementation supports queued signals and there are multiple
signals queued for the signal number selected, the first such queued signal shall cause a return from <i>sigwait</i>() and the
remainder shall remain queued. If no signal in <i>set</i> is pending at the time of the call, the thread shall be suspended until
one or more becomes pending. The signals defined by <i>set</i> shall have been blocked at the time of the call to <i>sigwait</i>();
otherwise, the behavior is undefined. The effect of <i>sigwait</i>() on the signal actions for the signals in <i>set</i> is
unspecified.</p>

<p>If more than one thread is using <i>sigwait</i>() to wait for the same signal, no more than one of these threads shall return
from <i>sigwait</i>() with the signal number. If more than a single thread is blocked in <i>sigwait</i>() for a signal when that
signal is generated for the process, it is unspecified which of the waiting threads returns from <i>sigwait</i>(). If the signal is
generated for a specific thread, as by <a href="../functions/pthread_kill.html"><i>pthread_kill</i>()</a>, only that thread shall
return.</p>

<p>Should any of the multiple pending signals in the range SIGRTMIN to SIGRTMAX be selected, it shall be the lowest numbered one.
The selection order between realtime and non-realtime signals, or between multiple pending non-realtime signals, is
unspecified.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_04"></a>RETURN VALUE</h4>

<blockquote>
<p>Upon successful completion, <i>sigwait</i>() shall store the signal number of the received signal at the location referenced by
<i>sig</i> and return zero. Otherwise, an error number shall be returned to indicate the error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>sigwait</i>() function may fail if:</p>

<dl compact>
<dt>[EINVAL]</dt>

<dd>The <i>set</i> argument contains an invalid or unsupported signal number.</dd>
</dl>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_557_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_08"></a>RATIONALE</h4>

<blockquote>
<p>To provide a convenient way for a thread to wait for a signal, this volume of POSIX.1-2017 provides the <i>sigwait</i>()
function. For most cases where a thread has to wait for a signal, the <i>sigwait</i>() function should be quite convenient,
efficient, and adequate.</p>

<p>However, requests were made for a lower-level primitive than <i>sigwait</i>() and for semaphores that could be used by threads.
After some consideration, threads were allowed to use semaphores and <a href="../functions/sem_post.html"><i>sem_post</i>()</a> was
defined to be async-signal-safe.</p>

<p>In summary, when it is necessary for code run in response to an asynchronous signal to notify a thread, <i>sigwait</i>() should
be used to handle the signal. Alternatively, if the implementation provides semaphores, they also can be used, either following
<i>sigwait</i>() or from within a signal handling routine previously registered with <a href=
"../functions/sigaction.html"><i>sigaction</i>()</a>.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/V2_chap02.html#tag_15_04"><i>Signal Concepts</i></a>, <a href=
"../functions/V2_chap02.html#tag_15_08_01"><i>Realtime Signals</i></a>, <a href="../functions/pause.html#"><i>pause</i></a>, <a
href="../functions/pthread_sigmask.html#"><i>pthread_sigmask</i></a>, <a href="../functions/sigaction.html#"><i>sigaction</i></a>
, <a href="../functions/sigpending.html#"><i>sigpending</i></a>, <a href="../functions/sigsuspend.html#"><i>sigsuspend</i></a>,
<a href="../functions/sigtimedwait.html#"><i>sigtimedwait</i></a></p>

<p>XBD <a href="../basedefs/signal.h.html"><i>&lt;signal.h&gt;</i></a>, <a href=
"../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 5. Included for alignment with the POSIX Realtime Extension and the POSIX Threads Extension.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_12"></a>Issue 6</h4>

<blockquote>
<p>The <b>restrict</b> keyword is added to the <i>sigwait</i>() prototype for alignment with the ISO/IEC&nbsp;9899:1999
standard.</p>

<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/131 is applied, updating the DESCRIPTION to state that if more
than a single thread is blocked in <i>sigwait</i>(), it is unspecified which of the waiting threads returns, and that if a signal
is generated for a specific thread only that thread shall return.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_557_13"></a>Issue 7</h4>

<blockquote>
<p>Functionality relating to the Realtime Signals Extension option is moved to the Base.</p>

<p>POSIX.1-2008, Technical Corrigendum 1, XSH/TC1-2008/0584 [76] is applied.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/sigtimedwait.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/sin.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

