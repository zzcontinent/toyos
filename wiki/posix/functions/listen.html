<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>listen</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/lio_listio.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/llrint.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>


<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="listen"></a> <a name="tag_16_295"></a><!-- listen -->
 

<h4 class="mansect"><a name="tag_16_295_01"></a>NAME</h4>

<blockquote>listen - listen for socket connections and limit the queue of incoming connections</blockquote>

<h4 class="mansect"><a name="tag_16_295_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/sys_socket.h.html">sys/socket.h</a>&gt;<br>
<br>
 int listen(int</tt> <i>socket</i><tt>, int</tt> <i>backlog</i><tt>);<br>
</tt></code></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_03"></a>DESCRIPTION</h4>

<blockquote>
<p>The <i>listen</i>() function shall mark a connection-mode socket, specified by the <i>socket</i> argument, as accepting
connections.</p>

<p>The <i>backlog</i> argument provides a hint to the implementation which the implementation shall use to limit the number of
outstanding connections in the socket's listen queue. Implementations may impose a limit on <i>backlog</i> and silently reduce the
specified value. Normally, a larger <i>backlog</i> argument value shall result in a larger or equal length of the listen queue.
Implementations shall support values of <i>backlog</i> up to SOMAXCONN, defined in <a href=
"../basedefs/sys_socket.h.html"><i>&lt;sys/socket.h&gt;</i></a>.</p>

<p>The implementation may include incomplete connections in its listen queue. The limits on the number of incomplete connections
and completed connections queued may be different.</p>

<p>The implementation may have an upper limit on the length of the listen queue-either global or per accepting socket. If
<i>backlog</i> exceeds this limit, the length of the listen queue is set to the limit.</p>

<p>If <i>listen</i>() is called with a <i>backlog</i> argument value that is less than 0, the function behaves as if it had been
called with a <i>backlog</i> argument value of 0.</p>

<p>A <i>backlog</i> argument of 0 may allow the socket to accept connections, in which case the length of the listen queue may be
set to an implementation-defined minimum value.</p>

<p>The socket in use may require the process to have appropriate privileges to use the <i>listen</i>() function.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_04"></a>RETURN VALUE</h4>

<blockquote>
<p>Upon successful completions, <i>listen</i>() shall return 0; otherwise, -1 shall be returned and <i>errno</i> set to indicate
the error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>listen</i>() function shall fail if:</p>

<dl compact>
<dt>[EBADF]</dt>

<dd>The <i>socket</i> argument is not a valid file descriptor.</dd>

<dt>[EDESTADDRREQ]</dt>

<dd>
The socket is not bound to a local address, and the protocol does not support listening on an unbound socket.</dd>

<dt>[EINVAL]</dt>

<dd>The <i>socket</i> is already connected.</dd>

<dt>[ENOTSOCK]</dt>

<dd>The <i>socket</i> argument does not refer to a socket.</dd>

<dt>[EOPNOTSUPP]</dt>

<dd>The socket protocol does not support <i>listen</i>().</dd>
</dl>

<p>The <i>listen</i>() function may fail if:</p>

<dl compact>
<dt>[EACCES]</dt>

<dd>The calling process does not have appropriate privileges.</dd>

<dt>[EINVAL]</dt>

<dd>The <i>socket</i> has been shut down.</dd>

<dt>[ENOBUFS]</dt>

<dd>Insufficient resources are available in the system to complete the call.</dd>
</dl>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_295_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_08"></a>RATIONALE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/accept.html#"><i>accept</i></a>, <a href="../functions/connect.html#"><i>connect</i></a>, <a href=
"../functions/socket.html#"><i>socket</i></a></p>

<p>XBD <a href="../basedefs/sys_socket.h.html"><i>&lt;sys/socket.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_295_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 6. Derived from the XNS, Issue 5.2 specification.</p>

<p>The DESCRIPTION is updated to describe the relationship of SOMAXCONN and the <i>backlog</i> argument.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/lio_listio.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/llrint.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

