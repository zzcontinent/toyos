<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>pthread_rwlock_unlock</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_rwlock_trywrlock.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_rwlockattr_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<script type="text/javascript" language="JavaScript" src="../jscript/codes.js">
</script>

<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="pthread_rwlock_unlock"></a> <a name="tag_16_453"></a><!-- pthread_rwlock_unlock -->
 

<h4 class="mansect"><a name="tag_16_453_01"></a>NAME</h4>

<blockquote>pthread_rwlock_unlock - unlock a read-write lock object</blockquote>

<h4 class="mansect"><a name="tag_16_453_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/pthread.h.html">pthread.h</a>&gt;<br>
<br>
 int pthread_rwlock_unlock(pthread_rwlock_t *</tt><i>rwlock</i><tt>);<br>
</tt></code></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_03"></a>DESCRIPTION</h4>

<blockquote>
<p>The <i>pthread_rwlock_unlock</i>() function shall release a lock held on the read-write lock object referenced by <i>rwlock</i>.
Results are undefined if the read-write lock <i>rwlock</i> is not held by the calling thread.</p>

<p>If this function is called to release a read lock from the read-write lock object and there are other read locks currently held
on this read-write lock object, the read-write lock object remains in the read locked state. If this function releases the last
read lock for this read-write lock object, the read-write lock object shall be put in the unlocked state with no owners.</p>

<p>If this function is called to release a write lock for this read-write lock object, the read-write lock object shall be put in
the unlocked state.</p>

<p>If there are threads blocked on the lock when it becomes available, the scheduling policy shall determine which thread(s) shall
acquire the lock. <sup>[<a href="javascript:open_code('TPS')">TPS</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> &nbsp;If the Thread Execution Scheduling option is supported, when threads executing with the
scheduling policies SCHED_FIFO, SCHED_RR, or SCHED_SPORADIC are waiting on the lock, they shall acquire the lock in priority order
when the lock becomes available. For equal priority threads, write locks shall take precedence over read locks. <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"> If the Thread Execution Scheduling option is not supported, it is
implementation-defined whether write locks take precedence over read locks.</p>

<p>Results are undefined if this function is called with an uninitialized read-write lock.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_04"></a>RETURN VALUE</h4>

<blockquote>
<p>If successful, the <i>pthread_rwlock_unlock</i>() function shall return zero; otherwise, an error number shall be returned to
indicate the error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>pthread_rwlock_unlock</i>() function shall not return an error code of [EINTR].</p>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_453_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_08"></a>RATIONALE</h4>

<blockquote>
<p>If an implementation detects that the value specified by the <i>rwlock</i> argument to <i>pthread_rwlock_unlock</i>() does not
refer to an initialized read-write lock object, it is recommended that the function should fail and report an [EINVAL] error.</p>

<p>If an implementation detects that the value specified by the <i>rwlock</i> argument to <i>pthread_rwlock_unlock</i>() refers to
a read-write lock object for which the current thread does not hold a lock, it is recommended that the function should fail and
report an [EPERM] error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/pthread_rwlock_destroy.html#"><i>pthread_rwlock_destroy</i></a>, <a href=
"../functions/pthread_rwlock_rdlock.html#"><i>pthread_rwlock_rdlock</i></a>, <a href=
"../functions/pthread_rwlock_timedrdlock.html#"><i>pthread_rwlock_timedrdlock</i></a>, <a href=
"../functions/pthread_rwlock_timedwrlock.html#"><i>pthread_rwlock_timedwrlock</i></a>, <a href=
"../functions/pthread_rwlock_trywrlock.html#"><i>pthread_rwlock_trywrlock</i></a></p>

<p>XBD <a href="../basedefs/V1_chap04.html#tag_04_12"><i>Memory Synchronization</i></a>, <a href=
"../basedefs/pthread.h.html"><i>&lt;pthread.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 5.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_12"></a>Issue 6</h4>

<blockquote>
<p>The following changes are made for alignment with IEEE&nbsp;Std&nbsp;1003.1j-2000:</p>

<ul>
<li>
<p>The margin code in the SYNOPSIS is changed to THR to indicate that the functionality is now part of the Threads option
(previously it was part of the Read-Write Locks option in IEEE&nbsp;Std&nbsp;1003.1j-2000 and also part of the XSI extension).</p>
</li>

<li>
<p>The DESCRIPTION is updated as follows:</p>

<ul>
<li>
<p>The conditions under which writers have precedence over readers are specified.</p>
</li>

<li>
<p>The concept of read-write lock owner is deleted.</p>
</li>
</ul>
</li>

<li>
<p>The SEE ALSO section is updated.</p>
</li>
</ul>
</blockquote>

<h4 class="mansect"><a name="tag_16_453_13"></a>Issue 7</h4>

<blockquote>
<p>SD5-XSH-ERN-183 is applied.</p>

<p>The <i>pthread_rwlock_unlock</i>() function is moved from the Threads option to the Base.</p>

<p>The [EINVAL] error for an uninitialized read-write lock object is removed; this condition results in undefined behavior.</p>

<p>The [EPERM] error for a read-write lock object for which the current thread does not hold a lock is removed; this condition
results in undefined behavior.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/pthread_rwlock_trywrlock.html" accesskey=
"P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/pthread_rwlockattr_destroy.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

