<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>realloc</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/readv.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/realpath.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<script type="text/javascript" language="JavaScript" src="../jscript/codes.js">
</script>

<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="realloc"></a> <a name="tag_16_478"></a><!-- realloc -->
 

<h4 class="mansect"><a name="tag_16_478_01"></a>NAME</h4>

<blockquote>realloc - memory reallocator</blockquote>

<h4 class="mansect"><a name="tag_16_478_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/stdlib.h.html">stdlib.h</a>&gt;<br>
<br>
 void *realloc(void *</tt><i>ptr</i><tt>, size_t</tt> <i>size</i><tt>);<br>
</tt></code></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_03"></a>DESCRIPTION</h4>

<blockquote>
<div class="box"><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]"
border="0"> The functionality described on this reference page is aligned with the ISO&nbsp;C standard. Any conflict between the
requirements described here and the ISO&nbsp;C standard is unintentional. This volume of POSIX.1-2017 defers to the ISO&nbsp;C
standard. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></div>

<p>The <i>realloc</i>() function shall deallocate the old object pointed to by <i>ptr</i> and return a pointer to a new object that
has the size specified by <i>size</i>. The contents of the new object shall be the same as that of the old object prior to
deallocation, up to the lesser of the new and old sizes. Any bytes in the new object beyond the size of the old object have
indeterminate values. If the size of the space requested is zero, the behavior shall be implementation-defined: either a null
pointer is returned, or the behavior shall be as if the size were some non-zero value, except that the behavior is undefined if the
returned pointer is used to access an object. If the space cannot be allocated, the object shall remain unchanged.</p>

<p>If <i>ptr</i> is a null pointer, <i>realloc</i>() shall be equivalent to <a href="../functions/malloc.html"><i>malloc</i>()</a>
for the specified size.</p>

<p>If <i>ptr</i> does not match a pointer returned earlier by <a href="../functions/calloc.html"><i>calloc</i>()</a>, <a href=
"../functions/malloc.html"><i>malloc</i>()</a>, or <i>realloc</i>() or if the space has previously been deallocated by a call to <a
href="../functions/free.html"><i>free</i>()</a> or <i>realloc</i>(), the behavior is undefined.</p>

<p>The order and contiguity of storage allocated by successive calls to <i>realloc</i>() is unspecified. The pointer returned if
the allocation succeeds shall be suitably aligned so that it may be assigned to a pointer to any type of object and then used to
access such an object in the space allocated (until the space is explicitly freed or reallocated). Each such allocation shall yield
a pointer to an object disjoint from any other object. The pointer returned shall point to the start (lowest byte address) of the
allocated space. If the space cannot be allocated, a null pointer shall be returned.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_04"></a>RETURN VALUE</h4>

<blockquote>
<p>Upon successful completion, <i>realloc</i>() shall return a pointer to the (possibly moved) allocated space. If <i>size</i> is
0, either:</p>

<ul>
<li>
<p>A null pointer shall be returned <sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif"
alt="[Option Start]" border="0"> &nbsp;and, if <i>ptr</i> is not a null pointer, <i>errno</i> shall be set to an
implementation-defined value. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></p>
</li>

<li>
<p>A pointer to the allocated space shall be returned, and the memory object pointed to by <i>ptr</i> shall be freed. The
application shall ensure that the pointer is not used to access an object.</p>
</li>
</ul>

<p>If there is not enough available memory, <i>realloc</i>() shall return a null pointer <sup>[<a href=
"javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> &nbsp;and set
<i>errno</i> to [ENOMEM]. <img src="../images/opt-end.gif" alt="[Option End]" border="0"> &nbsp;If <i>realloc</i>() returns a null
pointer <sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border=
"0"> &nbsp;and <i>errno</i> has been set to [ENOMEM], <img src="../images/opt-end.gif" alt="[Option End]" border="0"> &nbsp;the
memory referenced by <i>ptr</i> shall not be changed.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>realloc</i>() function shall fail if:</p>

<dl compact>
<dt>[ENOMEM]</dt>

<dd><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
Insufficient memory is available. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></dd>
</dl>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_478_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>The description of <i>realloc</i>() has been modified from previous versions of this standard to align with the
ISO/IEC&nbsp;9899:1999 standard. Previous versions explicitly permitted a call to <i>realloc</i> (<i>p, 0) to free the space
pointed to by p and return a null pointer. While this behavior could be interpreted as permitted by this version of the standard,
the C language committee have indicated that this interpretation is incorrect. Applications should assume that if</i> realloc()
returns a null pointer, the space pointed to by p has not been freed. Since this could lead to double-frees, implementations should
also set errno if a null pointer actually indicates a failure, and applications should only free the space if errno was
changed.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_08"></a>RATIONALE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>This standard defers to the ISO&nbsp;C standard. While that standard currently has language that might permit realloc (p, 0),
where p is not a null pointer, to free p while still returning a null pointer, the committee responsible for that standard is
considering clarifying the language to explicitly prohibit that alternative.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/calloc.html#"><i>calloc</i></a>, <a href="../functions/free.html#"><i>free</i></a>, <a href=
"../functions/malloc.html#"><i>malloc</i></a></p>

<p>XBD <a href="../basedefs/stdlib.h.html"><i>&lt;stdlib.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 1. Derived from Issue 1 of the SVID.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_12"></a>Issue 6</h4>

<blockquote>
<p>Extensions beyond the ISO&nbsp;C standard are marked.</p>

<p>The following new requirements on POSIX implementations derive from alignment with the Single UNIX Specification:</p>

<ul>
<li>
<p>In the RETURN VALUE section, if there is not enough available memory, the setting of errno to [ENOMEM] is added.</p>
</li>

<li>
<p>The [ENOMEM] error condition is added.</p>
</li>
</ul>
</blockquote>

<h4 class="mansect"><a name="tag_16_478_13"></a>Issue 7</h4>

<blockquote>
<p>POSIX.1-2008, Technical Corrigendum 1, XSH/TC1-2008/0495 [400], XSH/TC1-2008/0496 [400], XSH/TC1-2008/0497 [400], and
XSH/TC1-2008/0498 [400] are applied.</p>

<p>POSIX.1-2008, Technical Corrigendum 2, XSH/TC2-2008/0309 [526] and XSH/TC2-2008/0310 [526,688] are applied.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/readv.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/realpath.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

