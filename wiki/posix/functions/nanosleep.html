<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>nanosleep</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/nan.html" accesskey="P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/nearbyint.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<script type="text/javascript" language="JavaScript" src="../jscript/codes.js">
</script>

<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="nanosleep"></a> <a name="tag_16_350"></a><!-- nanosleep -->
 

<h4 class="mansect"><a name="tag_16_350_01"></a>NAME</h4>

<blockquote>nanosleep - high resolution sleep</blockquote>

<h4 class="mansect"><a name="tag_16_350_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<div class="box"><code><tt><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt=
"[Option Start]" border="0"> #include &lt;<a href="../basedefs/time.h.html">time.h</a>&gt;<br>
<br>
 int nanosleep(const struct timespec *</tt><i>rqtp</i><tt>, struct timespec *</tt><i>rmtp</i><tt>); <img src=
"../images/opt-end.gif" alt="[Option End]" border="0"></tt></code></div>

<tt><br>
</tt></blockquote>

<h4 class="mansect"><a name="tag_16_350_03"></a>DESCRIPTION</h4>

<blockquote>
<p>The <i>nanosleep</i>() function shall cause the current thread to be suspended from execution until either the time interval
specified by the <i>rqtp</i> argument has elapsed or a signal is delivered to the calling thread, and its action is to invoke a
signal-catching function or to terminate the process. The suspension time may be longer than requested because the argument value
is rounded up to an integer multiple of the sleep resolution or because of the scheduling of other activity by the system. But,
except for the case of being interrupted by a signal, the suspension time shall not be less than the time specified by <i>rqtp</i>,
as measured by the system clock CLOCK_REALTIME.</p>

<p>The use of the <i>nanosleep</i>() function has no effect on the action or blockage of any signal.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_04"></a>RETURN VALUE</h4>

<blockquote>
<p>If the <i>nanosleep</i>() function returns because the requested time has elapsed, its return value shall be zero.</p>

<p>If the <i>nanosleep</i>() function returns because it has been interrupted by a signal, it shall return a value of -1 and set
<i>errno</i> to indicate the interruption. If the <i>rmtp</i> argument is non-NULL, the <b>timespec</b> structure referenced by it
is updated to contain the amount of time remaining in the interval (the requested time minus the time actually slept). The
<i>rqtp</i> and <i>rmtp</i> arguments can point to the same object. If the <i>rmtp</i> argument is NULL, the remaining time is not
returned.</p>

<p>If <i>nanosleep</i>() fails, it shall return a value of -1 and set <i>errno</i> to indicate the error.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>nanosleep</i>() function shall fail if:</p>

<dl compact>
<dt>[EINTR]</dt>

<dd>The <i>nanosleep</i>() function was interrupted by a signal.</dd>

<dt>[EINVAL]</dt>

<dd>The <i>rqtp</i> argument specified a nanosecond value less than zero or greater than or equal to 1000 million.</dd>
</dl>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_350_06"></a>EXAMPLES</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_08"></a>RATIONALE</h4>

<blockquote>
<p>It is common to suspend execution of a thread for an interval in order to poll the status of a non-interrupting function. A
large number of actual needs can be met with a simple extension to <a href="../functions/sleep.html"><i>sleep</i>()</a> that
provides finer resolution.</p>

<p>In the POSIX.1-1990 standard and SVR4, it is possible to implement such a routine, but the frequency of wakeup is limited by the
resolution of the <a href="../functions/alarm.html"><i>alarm</i>()</a> and <a href="../functions/sleep.html"><i>sleep</i>()</a>
functions. In 4.3 BSD, it is possible to write such a routine using no static storage and reserving no system facilities. Although
it is possible to write a function with similar functionality to <a href="../functions/sleep.html"><i>sleep</i>()</a> using the
remainder of the <i>timer_*</i>() functions, such a function requires the use of signals and the reservation of some signal number.
This volume of POSIX.1-2017 requires that <i>nanosleep</i>() be non-intrusive of the signals function.</p>

<p>The <i>nanosleep</i>() function shall return a value of 0 on success and -1 on failure or if interrupted. This latter case is
different from <a href="../functions/sleep.html"><i>sleep</i>()</a>. This was done because the remaining time is returned via an
argument structure pointer, <i>rmtp</i>, instead of as the return value.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/clock_nanosleep.html#"><i>clock_nanosleep</i></a>, <a href=
"../functions/sleep.html#tag_16_560"><i>sleep</i></a></p>

<p>XBD <a href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 5. Included for alignment with the POSIX Realtime Extension.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_12"></a>Issue 6</h4>

<blockquote>
<p>The <i>nanosleep</i>() function is marked as part of the Timers option.</p>

<p>The [ENOSYS] error condition has been removed as stubs need not be provided if an implementation does not support the Timers
option.</p>

<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;1-2002, item XSH/TC1/D6/37 is applied, updating the SEE ALSO section to include the <a
href="../functions/clock_nanosleep.html"><i>clock_nanosleep</i>()</a> function.</p>

<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/63 is applied, correcting text in the RATIONALE section.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_350_13"></a>Issue 7</h4>

<blockquote>
<p>SD5-XBD-ERN-33 is applied.</p>

<p>The <i>nanosleep</i>() function is moved from the Timers option to the Base.</p>

<p>POSIX.1-2008, Technical Corrigendum 2, XSH/TC2-2008/0231 [909] is applied.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/nan.html" accesskey="P">&lt;&lt;&lt; Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/nearbyint.html" accesskey="N">Next
&gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

