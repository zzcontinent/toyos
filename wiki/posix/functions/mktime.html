<!-- Copyright 2001-2013 IEEE and The Open Group, All Rights Reserved -->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<link type="text/css" rel="stylesheet" href="style.css"><!-- Generated by The Open Group's rhtm tool v1.2.4 -->
<!-- Copyright (c) 2001-2013 The Open Group, All Rights Reserved -->
<title>mktime</title>
</head>
<body bgcolor="white">
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/mknod.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/mlock.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>

<script type="text/javascript" language="JavaScript" src="../jscript/codes.js">
</script>

<basefont size="3"> 

<center><font size="2">The Open Group Base Specifications Issue 7, 2018 edition<br>
IEEE Std 1003.1-2017 (Revision of IEEE Std 1003.1-2008)<br>
Copyright &copy; 2001-2018 IEEE and The Open Group</font></center>

<hr size="2" noshade>
<a name="top"></a> <a name="mktime"></a> <a name="tag_16_329"></a><!-- mktime -->
 

<h4 class="mansect"><a name="tag_16_329_01"></a>NAME</h4>

<blockquote>mktime - convert broken-down time into time since the Epoch</blockquote>

<h4 class="mansect"><a name="tag_16_329_02"></a>SYNOPSIS</h4>

<blockquote class="synopsis">
<p><code><tt>#include &lt;<a href="../basedefs/time.h.html">time.h</a>&gt;<br>
<br>
 time_t mktime(struct tm *</tt><i>timeptr</i><tt>);<br>
</tt></code></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_03"></a>DESCRIPTION</h4>

<blockquote>
<div class="box"><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]"
border="0"> The functionality described on this reference page is aligned with the ISO&nbsp;C standard. Any conflict between the
requirements described here and the ISO&nbsp;C standard is unintentional. This volume of POSIX.1-2017 defers to the ISO&nbsp;C
standard. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></div>

<p>The <i>mktime</i>() function shall convert the broken-down time, expressed as local time, in the structure pointed to by
<i>timeptr</i>, into a time since the Epoch value with the same encoding as that of the values returned by <a href=
"../functions/time.html"><i>time</i>()</a>. The original values of the <i>tm_wday</i> and <i>tm_yday</i> components of the
structure shall be ignored, and the original values of the other components shall not be restricted to the ranges described in <a
href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a>.</p>

<p><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> A
positive or 0 value for <i>tm_isdst</i> shall cause <i>mktime</i>() to presume initially that Daylight Savings Time, respectively,
is or is not in effect for the specified time. A negative value for <i>tm_isdst</i> shall cause <i>mktime</i>() to attempt to
determine whether Daylight Savings Time is in effect for the specified time.</p>

<p>Local timezone information shall be set as though <i>mktime</i>() called <a href=
"../functions/tzset.html"><i>tzset</i>()</a>.</p>

<p>The relationship between the <b>tm</b> structure (defined in the <a href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a>
header) and the time in seconds since the Epoch is that the result shall be as specified in the expression given in the definition
of seconds since the Epoch (see XBD <a href="../basedefs/V1_chap04.html#tag_04_16"><i>Seconds Since the Epoch</i></a>) corrected
for timezone and any seasonal time adjustments, where the names other than <i>tm_yday</i> in the structure and in the expression
correspond, and the <i>tm_yday</i> value used in the expression is the day of the year from 0 to 365 inclusive, calculated from the
other <b>tm</b> structure members specified in <a href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a> (excluding
<i>tm_wday</i>). <img src="../images/opt-end.gif" alt="[Option End]" border="0"></p>

<p>Upon successful completion, the values of the <i>tm_wday</i> and <i>tm_yday</i> components of the structure shall be set
appropriately, and the other components shall be set to represent the specified time since the Epoch, but with their values forced
to the ranges indicated in the <a href="../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a> entry; the final value of <i>tm_mday</i>
shall not be set until <i>tm_mon</i> and <i>tm_year</i> are determined.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_04"></a>RETURN VALUE</h4>

<blockquote>
<p>The <i>mktime</i>() function shall return the specified time since the Epoch encoded as a value of type <b>time_t</b>. If the
time since the Epoch cannot be represented, the function shall return the value (<b>time_t</b>)-1 <sup>[<a href=
"javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0"> &nbsp;and set
<i>errno</i> to indicate the error. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_05"></a>ERRORS</h4>

<blockquote>
<p>The <i>mktime</i>() function shall fail if:</p>

<dl compact>
<dt>[EOVERFLOW]</dt>

<dd><sup>[<a href="javascript:open_code('CX')">CX</a>]</sup> <img src="../images/opt-start.gif" alt="[Option Start]" border="0">
The result cannot be represented. <img src="../images/opt-end.gif" alt="[Option End]" border="0"></dd>
</dl>
</blockquote>

<hr>
<div class="box"><em>The following sections are informative.</em></div>

<h4 class="mansect"><a name="tag_16_329_06"></a>EXAMPLES</h4>

<blockquote>
<p>What day of the week is July 4, 2001?</p>

<pre>
<tt>#include &lt;stdio.h&gt;
#include &lt;time.h&gt;
<br>
struct tm time_str;
<br>
char daybuf[20];
<br>
int main(void)
{
    time_str.tm_year = 2001 - 1900;
    time_str.tm_mon = 7 - 1;
    time_str.tm_mday = 4;
    time_str.tm_hour = 0;
    time_str.tm_min = 0;
    time_str.tm_sec = 1;
    time_str.tm_isdst = -1;
    if (mktime(&amp;time_str) == -1)
        (void)puts("-unknown-");
    else {
        (void)strftime(daybuf, sizeof(daybuf), "%A", &amp;time_str);
        (void)puts(daybuf);
    }
    return 0;
}
</tt>
</pre>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_07"></a>APPLICATION USAGE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_08"></a>RATIONALE</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_09"></a>FUTURE DIRECTIONS</h4>

<blockquote>
<p>None.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_10"></a>SEE ALSO</h4>

<blockquote>
<p><a href="../functions/asctime.html#"><i>asctime</i></a>, <a href="../functions/clock.html#"><i>clock</i></a>, <a href=
"../functions/ctime.html#"><i>ctime</i></a>, <a href="../functions/difftime.html#"><i>difftime</i></a>, <a href=
"../functions/gmtime.html#"><i>gmtime</i></a>, <a href="../functions/localtime.html#"><i>localtime</i></a>, <a href=
"../functions/strftime.html#"><i>strftime</i></a>, <a href="../functions/strptime.html#"><i>strptime</i></a>, <a href=
"../functions/time.html#tag_16_613"><i>time</i></a>, <a href="../functions/tzset.html#"><i>tzset</i></a>, <a href=
"../functions/utime.html#"><i>utime</i></a></p>

<p>XBD <a href="../basedefs/V1_chap04.html#tag_04_16"><i>Seconds Since the Epoch</i></a>, <a href=
"../basedefs/time.h.html"><i>&lt;time.h&gt;</i></a></p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_11"></a>CHANGE HISTORY</h4>

<blockquote>
<p>First released in Issue 3. Included for alignment with the POSIX.1-1988 standard and the ANSI&nbsp;C standard.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_12"></a>Issue 6</h4>

<blockquote>
<p>Extensions beyond the ISO&nbsp;C standard are marked.</p>

<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/58 is applied, updating the RETURN VALUE and ERRORS sections to
add the optional [EOVERFLOW] error as a CX extension.</p>

<p>IEEE&nbsp;Std&nbsp;1003.1-2001/Cor&nbsp;2-2004, item XSH/TC2/D6/59 is applied, adding the <a href=
"../functions/tzset.html"><i>tzset</i>()</a> function to the SEE ALSO section.</p>
</blockquote>

<h4 class="mansect"><a name="tag_16_329_13"></a>Issue 7</h4>

<blockquote>
<p>POSIX.1-2008, Technical Corrigendum 1, XSH/TC1-2008/0393 [104] is applied.</p>

<p>POSIX.1-2008, Technical Corrigendum 2, XSH/TC2-2008/0228 [724] is applied.</p>
</blockquote>

<div class="box"><em>End of informative text.</em></div>

<hr>
<p>&nbsp;</p>

<a href="#top"><span class="topOfPage">return to top of page</span></a><br>
<hr size="2" noshade>
<center><font size="2">UNIX &reg; is a registered Trademark of The Open Group.<br>
POSIX &reg; is a registered Trademark of The IEEE.<br>
Copyright &copy; 2001-2018 IEEE and The Open Group, All Rights Reserved<br>
[ <a href="../mindex.html">Main Index</a> | <a href="../basedefs/contents.html">XBD</a> | <a href=
"../functions/contents.html">XSH</a> | <a href="../utilities/contents.html">XCU</a> | <a href="../xrat/contents.html">XRAT</a>
]</font></center>

<hr size="2" noshade>
<div class="NAVHEADER">
<table summary="Header navigation table" class="nav" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr class="nav">
<td class="nav" width="15%" align="left" valign="bottom"><a href="../functions/mknod.html" accesskey="P">&lt;&lt;&lt;
Previous</a></td>
<td class="nav" width="70%" align="center" valign="bottom"><a href="contents.html">Home</a></td>
<td class="nav" width="15%" align="right" valign="bottom"><a href="../functions/mlock.html" accesskey="N">Next &gt;&gt;&gt;</a></td>
</tr>
</table>

<hr align="LEFT" width="100%">
</div>
</body>
</html>

